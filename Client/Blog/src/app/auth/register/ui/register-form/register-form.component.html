<form
  [formGroup]="registerForm"
  class="flex flex-col gap-2"
  (ngSubmit)="onSubmit()"
>
  <mat-form-field appearance="fill">
    <mat-label>name</mat-label>
    <input
      matNativeControl
      formControlName="username"
      type="text"
      placeholder="name"
    />
    <mat-icon matPrefix>face</mat-icon>
    <mat-error>{{ getError(registerForm.controls.username) }}</mat-error>
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label>email</mat-label>
    <input
      matNativeControl
      formControlName="email"
      type="email"
      placeholder="email"
    />
    <mat-icon matPrefix>mail</mat-icon>
    <mat-error>{{ getError(registerForm.controls.email) }}</mat-error>
  </mat-form-field>
  <mat-form-field appearance="fill">
    <mat-label>password</mat-label>
    <input
      matNativeControl
      formControlName="password"
      type="password"
      placeholder="password"
    />
    <mat-icon matPrefix>lock</mat-icon>
    <mat-error>{{ getError(registerForm.controls.password) }}</mat-error>
  </mat-form-field>

  <button
    mat-flat-button
    type="submit"
    [disabled]="registrationStatus() === 'creating' || registerForm.invalid"
  >
    Register
  </button>
  @if(registrationStatus() === 'creating'){
  <mat-spinner diameter="50"></mat-spinner>
  } @if(registrationStatus() === 'error'){
  <mat-error>Error :( please try again</mat-error>
  }
</form>
